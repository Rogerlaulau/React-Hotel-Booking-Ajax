(window["webpackJsonpreact-hotel-booking-ajax"]=window["webpackJsonpreact-hotel-booking-ajax"]||[]).push([[0],{183:function(e,a,t){},185:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(31),s=t.n(o),c=t(195),l=t(36),i=t(30),m=t(81),d=t.n(m),u=t(17),_=t.n(u),g=t(32),h=t(19),f=t(20),p=t(22),E=t(21),v=t(23),b=t(34),N=t(9),k=["https://images.unsplash.com/photo-1519974719765-e6559eac2575?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=70","https://images.unsplash.com/photo-1533759413974-9e15f3b745ac?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1934&q=70","https://images.unsplash.com/photo-1501876725168-00c445821c9e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=70"],D=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={urls:k.map(function(e){return null})},t.loadSlideImages=function(){var e=t.props.setSlidesAreLoaded;k.forEach(function(a,n){var r=k.length,o=new Image;o.src=a,o.onload=function(){var o=Object(N.a)(t.state.urls);o[n]=a,t.setState({urls:o}),n===r-1&&e()}})},t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadSlideImages()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"main__hero"},r.a.createElement("div",{className:"hero__info"},r.a.createElement("div",{className:"hero__info-wrapper"},r.a.createElement("img",{src:"/images/hero-logo_white.svg",alt:"White space",className:"hero__info-logo"}),r.a.createElement("div",{className:"hero__info-content"},r.a.createElement("div",{className:"hero__info-left"},r.a.createElement("img",{src:"/images/hero-instagram-brands.svg",alt:"White space's instagram",className:"hero__info-social-icon"}),r.a.createElement("img",{src:"/images/hero-facebook-square-brands.svg",alt:"White space's facebook",className:"hero__info-social-icon"})),r.a.createElement("div",{className:"hero__info-right"},r.a.createElement("div",{className:"hero__info-item"},r.a.createElement("img",{src:"/images/hero-phone-alt-solid.svg",alt:"tel",className:"hero__info-contact-icon"}),r.a.createElement("span",{className:"hero__info-text"},"+49 (0) 271/740-5120")),r.a.createElement("div",{className:"hero__info-item"},r.a.createElement("img",{src:"/images/hero-envelope-solid.svg",alt:"email",className:"hero__info-contact-icon"}),r.a.createElement("span",{className:"hero__info-text"},"contact@whitespace.com")),r.a.createElement("div",{className:"hero__info-item"},r.a.createElement("img",{src:"/images/hero-home-solid.svg",alt:"address",className:"hero__info-contact-icon"}),r.a.createElement("span",{className:"hero__info-text"},"Talblick 268, Siegen")))))),r.a.createElement("div",{className:"hero__slides"},this.state.urls.map(function(e,a){return r.a.createElement("div",{key:a,className:"hero__slide",style:{backgroundImage:"url(".concat(e,")")}})}))))}}]),a}(n.Component),y=function(e){var a=e.data;return r.a.createElement("div",{className:"room-card"},r.a.createElement("div",{className:"room-card__wrapper",style:{backgroundImage:"url(".concat(a.imageUrl,"), linear-gradient(to right, #e4e4e4, #f8f8f8)")}},r.a.createElement(l.b,{className:"room-card__link",to:{pathname:"/room/".concat(a.id),state:{roomID:a.id}}},r.a.createElement("div",{className:"room-card__content"},r.a.createElement("h2",{className:"room-card__title"},a.name),r.a.createElement("div",{className:"room-card__prices"},r.a.createElement("span",{className:"room-card__price-l"},"NT$",a.normalDayPrice," ",r.a.createElement("span",{className:"room-card__price-s"},"weekday")),r.a.createElement("span",{className:"room-card__price-s room-card__price-s--gray"},"NT$",a.holidayPrice," weekend"))))))},O=t(83),x=t.n(O).a.create({baseURL:"https://challenge.thef2e.com/api/thef2e2019/stage6/",headers:{Authorization:"Bearer ".concat("IgFPqVrgQLEc0eyA4qqxgYXjg667Dz1C9gwsC7SowmQRfFTuJEBgFrrjs9rG"),Accept:"application/json","Content-Type":"application/json"}}),w=function(){return x.get("/rooms")},S=function(e){return x.get("/room/".concat(e))},j=function(e,a){return x.post("/room/".concat(e),a)},I=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={rooms:[],dataIsFetched:!1,slidesAreLoaded:!1},t.getRoomsData=Object(g.a)(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:a=e.sent,t.setState({rooms:a.data.items}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\ud83d\udeab Something went wrong fetching API calls: ".concat(e.t0));case 10:t.setState({dataIsFetched:!0});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),t.setSlidesAreLoaded=function(){t.setState({slidesAreLoaded:!0})},t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getRoomsData()}},{key:"render",value:function(){var e=this.state,a=e.rooms,t=e.dataIsFetched,n=e.slidesAreLoaded,o=t&&n;return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("div",{className:"pre-loading"},r.a.createElement("img",{src:"/images/hero-logo_white.svg",alt:"White Space",className:"hero__info-logo"}),r.a.createElement(b.a,{color:"#fff"})),r.a.createElement("div",{className:"container wrapper-l ".concat(o?"":"is-loading")},r.a.createElement(D,{setSlidesAreLoaded:this.setSlidesAreLoaded}),r.a.createElement("div",{className:"room-cards"},r.a.createElement("div",{className:"room-cards__list wrapper-m"},a.map(function(e){return r.a.createElement(y,{key:e.id,data:e})})))))}}]),a}(n.Component),P=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"skeleton skeleton--room-info"},r.a.createElement("div",{className:"skeleton__text skeleton__text--title"}),r.a.createElement("div",{className:"skeleton__wrapper"},r.a.createElement("div",{className:"skeleton__text"}),r.a.createElement("div",{className:"skeleton__text"}),r.a.createElement("div",{className:"skeleton__text"})),r.a.createElement("div",{className:"skeleton__text skeleton__text--line"}),r.a.createElement("div",{className:"skeleton__text skeleton__text--line"}),r.a.createElement("div",{className:"skeleton__block"})))},M=function(){return r.a.createElement("div",{className:"mosaic-header__items"},r.a.createElement("div",{className:"mosaic-header__item mosaic-header__item--1"},r.a.createElement("div",{className:"mosaic-header__placeholder"})),r.a.createElement("div",{className:"mosaic-header__item mosaic-header__item--2"},r.a.createElement("div",{className:"mosaic-header__placeholder"})),r.a.createElement("div",{className:"mosaic-header__item mosaic-header__item--3"},r.a.createElement("div",{className:"mosaic-header__placeholder"})))},F=t(84),C=(t(138),function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={imageIndex:0,lightboxIsOpen:!1,imageIsLoaded:t.props.images.map(function(e){return!1})},t.toggleLightbox=function(e){t.setState(function(a){return{lightboxIsOpen:!a.lightboxIsOpen,imageIndex:e}})},t.handleImageLoaded=function(e){var a=t.state.imageIsLoaded,n=Object(N.a)(a);n[e]=!0,t.setState({imageIsLoaded:n})},t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.name,n=a.images,o=this.state,s=o.imageIndex,c=o.lightboxIsOpen,i=o.imageIsLoaded;return void 0===t||void 0===n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"mosaic-header"},r.a.createElement("div",{className:"mosaic-header__logo"},r.a.createElement(l.b,{to:"/",className:"mosaic-header__logo-link"},r.a.createElement("img",{src:"/images/hero-logo_block.svg",alt:"WhiteSpace Logo",className:"mosaic-header__logo-img"}))),r.a.createElement("div",{className:"mosaic-header__items"},n.map(function(a,n){return r.a.createElement("div",{key:n,className:"mosaic-header__item mosaic-header__item--".concat(n+1),onClick:function(){return e.toggleLightbox(n)}},r.a.createElement("img",{src:a,alt:t,className:"mosaic-header__img",onLoad:function(){return e.handleImageLoaded(n)}}),!i[n]&&r.a.createElement("div",{className:"mosaic-header__placeholder"}))}))),c&&r.a.createElement(F.a,{mainSrc:n[s],nextSrc:n[(s+1)%n.length],prevSrc:n[(s+n.length-1)%n.length],onCloseRequest:function(){return e.setState({lightboxIsOpen:!1})},onMovePrevRequest:function(){return e.setState({imageIndex:(s+n.length-1)%n.length})},onMoveNextRequest:function(){return e.setState({imageIndex:(s+1)%n.length})},imageCaption:t}))}}]),a}(n.Component)),L=function(e){var a=e.location;return r.a.createElement("div",{className:"line-break ".concat(a||"")},r.a.createElement("span",{className:"line-break__line"}),r.a.createElement("span",{className:"line-break__line"}),r.a.createElement("span",{className:"line-break__line"}))},R=function(e){var a=e.data;if(!a.descriptionShort)return null;var t=a.descriptionShort,n=t.GuestMin,o=t.GuestMax,s=t.Footage,c=t.Bed,l=t["Private-Bath"],i=a.checkInAndOut,m=i.checkInEarly,d=i.checkInLate,u=i.checkOut;return r.a.createElement("div",{className:"room-info"},r.a.createElement("h2",{className:"room-info__title"},a.name),r.a.createElement("ul",{className:"room-info__intro-list"},r.a.createElement("li",{className:"room-info__intro-item"},"Max number of guests: ","".concat(n," - ").concat(o)),r.a.createElement("li",{className:"room-info__intro-item"},"Room size: ",s," m\xb2"),r.a.createElement("li",{className:"room-info__intro-item"},"Bed size: ",c[0]),r.a.createElement("li",{className:"room-info__intro-item"},"Private bath: ",l)),r.a.createElement("p",{className:"room-info__description"},a.description),r.a.createElement(L,{location:"room-info"}),r.a.createElement("div",{className:"room-info__checks"},r.a.createElement("div",{className:"room-info__check"},r.a.createElement("span",{className:"room-info__check-title"},"Check in"),r.a.createElement("span",{className:"room-info__check-time"},"".concat(m," - ").concat(d))),r.a.createElement("div",{className:"room-info__check"},r.a.createElement("span",{className:"room-info__check-title"},"Check out"),r.a.createElement("span",{className:"room-info__check-time"},u))))},A=function(e){var a=e.amenities;if(!a)return null;var t=a["Wi-Fi"],n=a.Breakfast,o=a["Mini-Bar"],s=a["Room-Service"],c=a["Air-Conditioner"],l=a["Great-View"],i=a["Smoke-Free"],m=a["Child-Friendly"],d=a["Pet-Friendly"];return r.a.createElement("div",{className:"room-amenities"},r.a.createElement("ul",{className:"room-amenities__list"},r.a.createElement("li",{className:"room-amenities__item ".concat(t?"":"non-available")},r.a.createElement("img",{src:"/images/room-wifi.svg",alt:"Wifi",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Wi-Fi")),r.a.createElement("li",{className:"room-amenities__item ".concat(n?"":"non-available")},r.a.createElement("img",{src:"/images/room-breakfast.svg",alt:"Breakfast",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Breakfast")),r.a.createElement("li",{className:"room-amenities__item ".concat(o?"":"non-available")},r.a.createElement("img",{src:"/images/room-bar.svg",alt:"Mini Bar",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Mini Bar")),r.a.createElement("li",{className:"room-amenities__item ".concat(s?"":"non-available")},r.a.createElement("img",{src:"/images/room_service.svg",alt:"Room Service",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Room Service")),r.a.createElement("li",{className:"room-amenities__item ".concat(c?"":"non-available")},r.a.createElement("img",{src:"/images/room-breeze.svg",alt:"Air-Conditioner",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Air Conditioner")),r.a.createElement("li",{className:"room-amenities__item ".concat(l?"":"non-available")},r.a.createElement("img",{src:"/images/room-mountain-range.svg",alt:"Great-View",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Great View")),r.a.createElement("li",{className:"room-amenities__item ".concat(i?"":"non-available")},r.a.createElement("img",{src:"/images/room-no-smoke-symbol.svg",alt:"Smoke-Free",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Smoke Free")),r.a.createElement("li",{className:"room-amenities__item ".concat(d?"":"non-available")},r.a.createElement("img",{src:"/images/room-dog.svg",alt:"Pet Friendly",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Pet Friendly")),r.a.createElement("li",{className:"room-amenities__item ".concat(m?"":"non-available")},r.a.createElement("img",{src:"/images/room-crawling-baby-silhouette.svg",alt:"Child Friendly",className:"room-amenities__icon"}),r.a.createElement("span",{className:"room-amenities__title"},"Child Friendly"))))},B=function(e){var a=e.roomIsLoading,t=e.normalDayPrice,n=e.holidayPrice;return r.a.createElement("div",{className:"booking-card__prices"},r.a.createElement("div",{className:"booking-card__price-item"},r.a.createElement("span",{className:"booking-card__price-title"},"Mon-Thu per night"),r.a.createElement("span",{className:"booking-card__price-per-night"},a?r.a.createElement(b.a,{color:"#111"}):"NT".concat(t))),r.a.createElement("div",{className:"booking-card__price-item"},r.a.createElement("span",{className:"booking-card__price-title"},"Fri-Sun per night"),r.a.createElement("span",{className:"booking-card__price-per-night"},a?r.a.createElement(b.a,{color:"#111"}):"NT".concat(n))))},T=t(5),W=t(65),q=t.n(W),$=(t(182),t(41)),z=t(179),G=t(193),J=t(188),Q=t(143),V=function(e){var a=e.normalDayPrice,t=e.holidayPrice,n=e.startDate,o=e.endDate,s=0,c=0;if(!n||!o)return null;var l=Object(G.a)({start:n,end:Object(Q.default)(o,1)}).map(function(e){return e.getDay(e)}).map(function(e){var n=0===e||5===e||6===e;return n?c+=1:s+=1,n?t:a}).reduce(function(e,a){return e+a},0);return r.a.createElement("div",{className:"booking-card__total"},r.a.createElement("ul",{className:"booking-card__total-list"},r.a.createElement("li",{className:"booking-card__total-item"},r.a.createElement("span",{className:"booking-card__total-text"},"Weekday $",a," x ",s," night(s)"),r.a.createElement("span",{className:"booking-card__total-text"},"NT$",a*s)),r.a.createElement("li",{className:"booking-card__total-item"},r.a.createElement("span",{className:"booking-card__total-text"},"Weekend $",t," x ",c," night(s)"),r.a.createElement("span",{className:"booking-card__total-text"},"NT$",t*c)),r.a.createElement("li",{className:"booking-card__total-item"},r.a.createElement("span",{className:"booking-card__total-text bold"},"Total"),r.a.createElement("span",{className:"booking-card__total-text bold large"},"NT$",l))))},H=function(e){var a=e.modalRef,t=e.modalIsOpen,n=e.modalMessage,o=e.closeModal,c=e.handleClickOutside,l=e.bookingSuccess,i=l?"Welcome to White Space":"OOPS!",m=l?"success":"error";return t?s.a.createPortal(r.a.createElement("div",{className:"modal",onClick:c},r.a.createElement("div",{className:"modal__area",ref:a},r.a.createElement("div",{className:"modal__content"},r.a.createElement("div",{className:"modal__header"},r.a.createElement("button",{type:"button",className:"modal__close-btn",onClick:o},"\xd7"),r.a.createElement("h2",{className:"modal__header-title"},i),r.a.createElement(L,{location:"inner-modal"})),r.a.createElement("div",{className:"modal__body"},r.a.createElement("p",{className:"modal__text"},n),r.a.createElement("img",{src:"/images/".concat(m,".svg"),alt:"",className:"modal__success-icon"}))))),document.body):r.a.createElement(r.a.Fragment,null)};function U(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?U(t,!0).forEach(function(a){Object(T.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Y=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(o)))).formRef=r.a.createRef(),t.modalRef=r.a.createRef(),t.state={formData:{guestname:"",tel:"",startDate:null,endDate:null},errorMessages:{},modalIsOpen:!1,modalMessage:"",bookingSuccess:!1,reserveIsLoading:!1},t.setNameAndTel=function(e){t.setState({formData:X({},t.state.formData,Object(T.a)({},e.target.name,e.target.value))})},t.setStartDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.formData.startDate,a="";e>t.state.formData.endDate&&(a=Object($.default)(e,1));var n=X({},t.state.formData,{startDate:e,endDate:a});t.setState({formData:n})},t.setEndDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.formData.endDate,a=X({},t.state.formData,{endDate:e});t.setState({formData:a})},t.excludeDates=function(){return t.props.bookingData.map(function(e){return Object(z.default)(e.date)})},t.validateForm=function(){var e=t.state,a=e.formData,n=e.errorMessages,r=a.guestname,o=a.tel,s=a.startDate,c=a.endDate,l=X({},n);l.guestname=r?"":"Name must be filled in",l.tel=o&&/^\d+$/.test(o)?"":"Phone number must be filled in",l.dates=s&&c?"":"Dates should be selected",t.setState({errorMessages:l});for(var i=0,m=Object.values(l);i<m.length;i++){if(m[i].length>0)return!1}return!0},t.formatDate=function(e,a){return Object(G.a)({start:new Date(e),end:new Date(a)}).map(function(e){return Object(J.default)(new Date(e),"yyyy-MM-dd")})},t.createFormData=function(){var e=t.state.formData,a=e.guestname,n=e.tel,r=e.startDate,o=e.endDate;return{name:a,tel:n,date:t.formatDate(r,o)}},t.sendFormData=Object(g.a)(_.a.mark(function e(){var a,n,r,o,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.roomID,r=a.refreshBookingData,o=t.createFormData(),e.prev=2,t.setState({reserveIsLoading:!0}),e.next=6,j(n,o);case 6:s="Thank you for booking with White Space, your room was booked successfully!",t.setState({modalMessage:s,bookingSuccess:!0,reserveIsLoading:!1}),t.openModal(),t.clearFormInputs(),r(),e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(2),e.t0.response){e.next=17;break}return e.abrupt("return");case 17:s=e.t0.response.data.message,t.setState({modalMessage:s,bookingSuccess:!1,reserveIsLoading:!1}),t.openModal(),console.error("\ud83d\udeab Something went wrong posting data: ".concat(e.t0.response.data.message));case 21:case"end":return e.stop()}},e,null,[[2,13]])})),t.clearFormInputs=function(){t.setState({formData:{guestname:"",tel:"",startDate:null,endDate:null}})},t.submitForm=function(e){e.preventDefault(),t.validateForm()&&t.sendFormData()},t.updateStyleToBody=function(){document.body.classList.toggle("modal-is-open")},t.openModal=function(){t.setState({modalIsOpen:!0},t.updateStyleToBody)},t.closeModal=function(){t.setState({modalIsOpen:!1},t.updateStyleToBody)},t.handleClickOutside=function(e){var a=t.modalRef.current;a&&a.contains(e.target)||t.closeModal()},t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"render",value:function(){var e=this.state,a=e.formData,t=e.errorMessages,n=e.modalIsOpen,o=e.modalMessage,s=e.bookingSuccess,c=e.reserveIsLoading,l=a.guestname,i=a.tel,m=a.startDate,d=a.endDate,u=this.props,_=u.normalDayPrice,g=u.holidayPrice;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"booking-card__form"},r.a.createElement("form",{className:"form",ref:this.formRef,onSubmit:this.submitForm},r.a.createElement("div",{className:"form__field"},r.a.createElement("label",{htmlFor:"guestname",className:"form__label"},"Name"),r.a.createElement("input",{type:"text",className:"form__input",name:"guestname",value:l,onChange:this.setNameAndTel}),r.a.createElement("em",{className:"form__error-text"},t.guestname)),r.a.createElement("div",{className:"form__field"},r.a.createElement("label",{htmlFor:"guestname",className:"form__label"},"Tel"),r.a.createElement("input",{type:"text",className:"form__input",name:"tel",value:i,onChange:this.setNameAndTel}),r.a.createElement("em",{className:"form__error-text"},t.tel)),r.a.createElement("div",{className:"form__field"},r.a.createElement("label",{htmlFor:"guestname",className:"form__label"},"Dates"),r.a.createElement("div",{className:"form__dates-wrapper"},r.a.createElement(q.a,{selected:m,selectsStart:!0,startDate:m,endDate:d,onChange:this.setStartDate,minDate:Object($.default)(new Date,1),maxDate:Object($.default)(new Date,90),excludeDates:this.excludeDates(),dateFormat:"yyyy-MM-dd",placeholderText:"Check in"}),"\u2192",r.a.createElement(q.a,{selected:d,selectsEnd:!0,startDate:m,endDate:d,onChange:this.setEndDate,minDate:Object($.default)(m,1),maxDate:Object($.default)(new Date,90),excludeDates:this.excludeDates(),dateFormat:"yyyy-MM-dd",placeholderText:"Check out",popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}})),r.a.createElement("em",{className:"form__error-text"},t.dates)),r.a.createElement(V,{normalDayPrice:_,holidayPrice:g,startDate:m,endDate:d}),r.a.createElement("div",{className:"form__btn-wrapper"},r.a.createElement("button",{type:"submit",className:"form__submit-btn"},c?r.a.createElement(b.b,{color:"#fff"}):"Reserve")))),n&&r.a.createElement(H,{modalRef:this.modalRef,modalIsOpen:n,modalMessage:o,closeModal:this.closeModal,handleClickOutside:this.handleClickOutside,bookingSuccess:s}))}}]),a}(n.Component),K=function(e){var a=e.roomIsLoading,t=e.normalDayPrice,n=e.holidayPrice,o=e.roomID,s=e.bookingData,c=e.refreshBookingData;return r.a.createElement("div",{className:"booking-card"},r.a.createElement("div",{className:"booking-card__wrapper"},r.a.createElement(B,{roomIsLoading:a,normalDayPrice:t,holidayPrice:n}),r.a.createElement(Y,{normalDayPrice:t,holidayPrice:n,roomID:o,bookingData:s,refreshBookingData:c})))},Z=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={currentRoom:[],bookingData:[],roomIsLoading:!0},t.getCurrentRoomData=Object(g.a)(_.a.mark(function e(){var a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.location,e.prev=1,e.next=4,S(a.state.roomID);case 4:n=e.sent,t.setState({currentRoom:n.data.room[0],bookingData:n.data.booking}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("\ud83d\udeab Something went wrong fetching API calls on this room: ".concat(e.t0));case 11:t.setState({roomIsLoading:!1});case 12:case"end":return e.stop()}},e,null,[[1,8]])})),t.refreshBookingData=Object(g.a)(_.a.mark(function e(){var a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.location,e.prev=1,e.next=4,S(a.state.roomID);case 4:n=e.sent,t.setState({bookingData:n.data.booking}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("\ud83d\udeab Something went wrong fetching API calls on this room: ".concat(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),t}return Object(v.a)(a,e),Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getCurrentRoomData()}},{key:"render",value:function(){var e=this.props.location.state.roomID,a=this.state,t=a.currentRoom,n=a.bookingData,o=a.roomIsLoading,s=t.name,c=t.imageUrl,l=t.amenities,i=t.normalDayPrice,m=t.holidayPrice;return r.a.createElement("div",{className:"container wrapper-l"},o?r.a.createElement(M,null):r.a.createElement(C,{name:s,images:c}),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"wrapper-m main__wrapper"},r.a.createElement("section",{className:"main__left"},o?r.a.createElement(P,null):r.a.createElement(R,{data:t}),r.a.createElement(A,{amenities:l})),r.a.createElement("section",{className:"main__right"},r.a.createElement(K,{roomIsLoading:o,normalDayPrice:i,holidayPrice:m,roomID:e,bookingData:n,refreshBookingData:this.refreshBookingData})))))}}]),a}(n.Component),ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:I}),r.a.createElement(i.a,{path:"/room/:roomId",component:Z}))),r.a.createElement(d.a,{style:{position:"fixed",top:0,right:0,zIndex:1},direction:"right",href:"",target:"_blank"}))};t(183);c.a({dsn:"https://7dcec06e0dbb4e32ad7ab74a4d614723@sentry.io/1770835"}),s.a.render(r.a.createElement(ee,null),document.getElementById("root"))},91:function(e,a,t){e.exports=t(185)}},[[91,1,2]]]);
//# sourceMappingURL=main.3fe71c80.chunk.js.map